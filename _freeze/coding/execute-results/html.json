{
  "hash": "d5683e23117ffa3b9d5ab5c8c752d1e6",
  "result": {
    "engine": "jupyter",
    "markdown": "::: {#6dc08522 .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd \nimport numpy as np  \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import MaxNLocator\n```\n:::\n\n\n::: {#22c59293 .cell execution_count=2}\n``` {.python .cell-code}\nNH = pd.read_csv('./data/nh_temps.csv')\nSH = pd.read_csv('./data/sh_temps.csv')\n# SH = SH.set_index('Year')\n# NH = NH.set_index('Year')\n```\n:::\n\n\n::: {#defcd3bf .cell execution_count=3}\n``` {.python .cell-code}\nSH = SH.rename(columns={'DJF': \"JJA\", 'MAM': 'SON', 'JJA': \"DJF\", 'SON':'MAM' })\n\n\ndf_long = NH.melt(id_vars=['Year'], value_vars=['DJF', 'MAM', 'JJA', 'SON'], var_name='Season', value_name='Temperature')\n\n\n\ndf_long_SH = SH.melt(id_vars=['Year'], value_vars=['DJF', 'MAM', 'JJA', 'SON'], var_name='Season', value_name='Temperature')\n\ndf_long['Hemisphere'] = 'NH'\ndf_long_SH['Hemisphere'] = 'SH'\ndf_full = pd.concat([df_long, df_long_SH], ignore_index=True)\n# Convert 'Year' into a string so we can concatenate it with 'Season' for a unique x-axis label\n\ndf_full['Year'] = df_full['Year'].astype(str)\ndf_full['Time'] = df_full['Year'] + \" \" + df_full['Season']\ndf_full['Hue'] = df_full['Hemisphere'] + ' - ' + df_full['Season']\n\n\nnth_label = 10 \nseason = ['DJF', 'MAM', 'JJA', 'SON']\nseason_name = ['Winter', 'Spring', 'Summer', 'Fall']\nfigg, ax = plt.subplots(nrows=2, ncols=2, figsize=(20, 8))\nfor u, i in enumerate(season):\n    sub_full = df_full[df_full['Season']==i] \n\n    plot = sns.lineplot(data=sub_full, x='Year', y='Temperature', hue='Hue', marker='o', ax=ax.flatten()[u])\n\n# Setting the title and labels for the plot\n    ax.flatten()[u].set_title(f'Temperature Variations for {season_name[u]}', fontsize=20) # Adjust title font size as needed\n     # Increase font size for x label\n    ax.flatten()[u].set_ylabel('Temperature Variation (°C)', fontsize=13) # Increase font size for y label\n    ax.flatten()[u].tick_params(axis='y', labelsize=13)\n    if u <=1 :\n        ax.flatten()[u].set_xticks([])\n        ax.flatten()[u].get_xaxis().set_visible(False)\n    else :\n        ax.flatten()[u].set_xlabel('Time', fontsize=13)\n\n# Change the x-tick labels to season names\n    ax.flatten()[u].legend(title='Legend', fontsize=13)\n    for index, label in enumerate(ax.flatten()[u].get_xticklabels()):\n        if index % nth_label != 0:\n            label.set_visible(False)\n\n\n\nfigg, ax = plt.subplots(nrows=1, ncols=1, figsize=(20, 8))\nplot = sns.boxplot(data=df_full, y='Temperature', x='Season', hue='Hemisphere', ax=ax)\n\n# Setting the title and labels for the plot\nax.set_title('Temperature Variations in the Northern and Southern Hemispheres', fontsize=20) # Adjust title font size as needed\nax.set_xlabel('Season', fontsize=16) # Increase font size for x label\nax.set_ylabel('Temperature Variation (°C)', fontsize=16) # Increase font size for y label\n\n# Change the x-tick labels to season names\nax.set_xticklabels(['Winter', 'Spring', 'Summer', 'Fall'])\n\n# Increase font size of the tick labels\nax.tick_params(axis='x', labelsize=16)\nax.tick_params(axis='y', labelsize=16)\n\n# Add a legend to distinguish the seasons and hemispheres, adjust font size as needed\nax.legend(title='Legend', fontsize=15)\n\n# Optimize layout and show the plot\nfigg.tight_layout()\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/wr/323h4t5x63zbc0d1jr1l1nlm0000gn/T/ipykernel_87320/1810613142.py:57: UserWarning: set_ticklabels() should only be used with a fixed number of ticks, i.e. after set_ticks() or using a FixedLocator.\n  ax.set_xticklabels(['Winter', 'Spring', 'Summer', 'Fall'])\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](coding_files/figure-html/cell-4-output-2.png){width=1581 height=684}\n:::\n\n::: {.cell-output .cell-output-display}\n![](coding_files/figure-html/cell-4-output-3.png){width=1911 height=761}\n:::\n:::\n\n\n::: {#ede028db .cell execution_count=4}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport joypy\nfrom matplotlib import cm\n\nzonann_temps = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-11/zonann_temps.csv')\n\n# Step 1: Convert the DataFrame from wide to long format\ndata = pd.melt(zonann_temps, id_vars = ['Year', 'Glob'], \n                       value_vars = ['EQU-24N', '24N-44N', '44N-64N', '64N-90N', '24S-EQU', '44S-24S', '64S-44S', '90S-64S'],\n                       var_name = 'lat_range', value_name = 'temp_dev')\n\n\n# Pivot the data for heatmap plotting, with Year on the x-axis and latitude ranges on the y-axis\nheatmap_data_swapped_axes = data.pivot_table(index = \"lat_range\",columns= \"Year\",values = \"temp_dev\")\n\n\n# Define the specified order for latitude ranges\nlat_range_order = ['64N-90N', '44N-64N', '24N-44N', 'EQU-24N', '24S-EQU', '44S-24S', '64S-44S', '90S-64S']\n\n# Reorder the dataframe according to the specified latitude range order\nheatmap_data_ordered = heatmap_data_swapped_axes.reindex(lat_range_order)\n\n# Plot the heatmap\nplt.figure(figsize = (8, 6))\nsns.heatmap(heatmap_data_ordered, cmap = \"coolwarm\", linewidths = 0.1)\nplt.title('Annual Temperature Annomalies Heatmap over each Latitude Range \\nYears Colored in Red on the x Axis Show Reference Years')\nplt.xlabel('Year')\nplt.ylabel('Latitude Range')\n\n# Set x-tick labels to appear every five years and color reference years in red\nyears = heatmap_data_ordered.columns.values\nticks = range(0, len(years), 10)  # Show a tick every 5 years\nplt.xticks(ticks, [years[i] for i in ticks], rotation = 45)\nhighlight_years = ['1950', '1955', '1960', '1965', '1970', '1975', '1980']\nfor label in plt.gca().get_xticklabels():\n    if label.get_text() in highlight_years:\n        label.set_color('red')\nplt.savefig('./images/Heatmap.jpg',bbox_inches='tight')\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-display}\n![](coding_files/figure-html/cell-5-output-1.png){width=664 height=561}\n:::\n:::\n\n\n",
    "supporting": [
      "coding_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}