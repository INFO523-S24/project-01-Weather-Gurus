---
title: "Global Temperature Analysis"
subtitle: "Proposal"
format: html
editor: visual
jupyter: python3
---

```{python}
#| label: load-pkgs
#| message: false
#| echo: false
import numpy as np
import pandas as pd
from tabulate import tabulate
```

::: {style="text-align: justify;"}
## Dataset
### Introduction
The dataset is provided by NASA by combining land-surface, sea surface, and air temperature anomalies. The values in the dataset are deviations from the corresponding 1951-1980 means, indicating how much warmer or colder it is than normal for a particular place and time, and the normal means the average over the 30 years 1951-1980 for that place and time of year. More precisely, the base 1951-1980 mean is subtracted from the absolute temperature to get the anomaly.
The dataset contains four CSV files, providing temperature anomalies across different spatial and temporal scales for a long period from 1880 to 2022. Global_temps.csv provides mean monthly temperatures over the whole globe while nh_temps.csv and sh_temps.csv provide the same information but over the northern and southern hemispheres separately. We have also seasonall variables that are based on meteorological seasons where for example Dec-Jan-Feb is the northern hemisphere meteorological winter. We have also the zonnan_temps.csv dataset which provides annual zonal temperatures across four zones in each hemisphere. For example, the zones in the northern hemispheres are EQ-24N, 24N-44N, 44N-64N, and 64N-90N, and we have the same zones for the southern hemisphere with N repalced by S.
Below you can find the datasets and a brief description of the variables.
:::

```{python}
#| label: load-dataset
#| message: false
#| echo: false

# Read in manually
global_temps = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-11/global_temps.csv')
nh_temps = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-11/nh_temps.csv')
sh_temps = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-11/sh_temps.csv')
zonann_temps = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-11/zonann_temps.csv')

global_temps_description = pd.read_csv("global_temps_description.csv")
nh_temps_description = pd.read_csv("nh_temps_description.csv")
sh_temps_description = pd.read_csv("sh_temps_description.csv")
zonann_temps_description = pd.read_csv("zonann_temps_description.csv")
```

#### Northern Hemisphere Annomalies and Description
```{python}
#| label: load-nh
#| message: false
#| echo: false

nh_temps

```

```{python}
#| label: load-nh-description
#| message: false
#| echo: false

print(tabulate(nh_temps_description, headers='keys', tablefmt='pipe', showindex=False, stralign='center'))

```

#### Southern Hemisphere Annomalies and Description
```{python}
#| label: load-sh
#| message: false
#| echo: false

sh_temps

```

```{python}
#| label: load-sh-description
#| message: false
#| echo: false

print(tabulate(sh_temps_description, headers='keys', tablefmt='pipe', showindex=False, stralign='center'))

```

#### Zonnal Annomalies and Description
```{python}
#| label: load-zonann
#| message: false
#| echo: false

zonann_temps

```

```{python}
#| label: load-zonann-description
#| message: false
#| echo: false

print(tabulate(zonann_temps_description, headers='keys', tablefmt='pipe', showindex=False, stralign='center'))

```

## Questions

1. What are the summary statistics (mean, standard deviations, and IQR) of zonal annual temperatures anomalies?

2. What are the summary statistics (mean, standard deviations, and IQR) of hemispheric monthly (seasonal) temperature annomalies?

## Analysis plan

1.  We should use variables inside the zonnan_temps.csv dataset. Initially, we should transform the data from a wide format to a long format by defining a new column called zones and merging all eight variables related to zones (i.e. 24N-44N, â€¦) to that column. As we are focusing on annual zonal anomalies in this qustion, we can skip Glob, NHem, and SHem variables. Finally, we would have a dataframe with three columns with one represnting year,one represnting zone and the last contains the annomalies.
We can draw eight boxplots (one boxplot for each zone) to comapre the zonnal IQR and median anomalies. We can also compute and compare mean and standard deviation of annual zonal anomalies.

2. We should use nh_temps.csv and sh_temps.csv datasets. We should start by converting the dataset of each hemispheres to a long format by defining one new column for month (season). Finally, we can merge the dataframes vertically to arrive at a one dataframe. 
We can create two line plot of mean and standard deviation of anomalies for each month (season) and each hemisphere. Also, we can have 12 (4) couples of boxplots to compare IQR and median of each month (season) in both hemispheres.


